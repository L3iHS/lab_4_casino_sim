# Lab 4 — Симуляция с пользовательсĸими ĸоллеĸциями и псевдослучайной моделью («Казино и Гуси»)


Проект представляет собой симуляцию казино с игроками и гусями (не играйте в казино!)

---

## Возможности проекта

- регистрация игроков с балансом
- регистрация гусей со способностями
- использование фишек (`Chip`) как объектов для ставок
- игровые события (ставки, выигрыши, проигрыши, атаки, крики)
- симуляция с воспроизводимым `seed`
- подробный лог событий
- автоматические тесты на `pytest`

---

## Основные сущности

### Player
Игрок казино 
Содержит имя и текущий баланс

---

### Goose
Базовый класс гуся

Производные классы:
- **WarGoose** — атакует игрока и уменьшает его баланс
- **HonkGoose** — обладает уникальным навыком «крик», реализованным через `__call__`

---

### Chip
Фишка казино
- имеет числовое значение (`value`)
- поддерживает сложение (`__add__`, `__radd__`)
- используется для ставок, выигрышей и потерь

---

### Casino
Центральный класс симуляции\
Отвечает за:
- регистрацию игроков и гусей
- хранение балансов
- игровые события
- генерацию случайных действий

---

## События казино

В проекте реализованы следующие события:

- `event_bet` — игрок делает ставку
- `event_win` — игрок выигрывает
- `event_lose` — игрок теряет деньги
- `event_wargoose_attack` — атака боевого гуся
- `event_honkgoose_scream` — крик гуся

Каждое событие:
- изменяет баланс игрока
- возвращает строку лога

---

## Симуляция

Функция `run_simulation`

Поддерживаемые параметры:
- `steps` — количество шагов симуляции
- `seed` — seed генератора случайных чисел
- `print_logs` — вывод логов шагов
- `print_final` — вывод финальных балансов

Пример использования:

```python
from src.simulation import run_simulation

run_simulation(steps=20, seed=1, print_logs=True, print_final=True)
```

---

## Тестирование

Для тестирования используется **pytest**

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Запуск тестов
```bash
pytest
```